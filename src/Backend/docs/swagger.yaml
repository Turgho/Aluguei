openapi: 3.0.3
info:
  title: Aluguei API
  description: Sistema de gerenciamento de aluguéis - API completa para proprietários, inquilinos, propriedades, contratos e pagamentos
  version: 1.0.0
  contact:
    name: Equipe Aluguei
    email: suporte@aluguei.com
  license:
    name: MIT
    url: https://opensource.org/licenses/MIT

servers:
  - url: http://localhost:8081/api/v1
    description: Servidor de desenvolvimento
  - url: https://api.aluguei.com/v1
    description: Servidor de produção

tags:
  - name: Owners
    description: Operações relacionadas a proprietários
  - name: Properties
    description: Operações relacionadas a propriedades
  - name: Tenants
    description: Operações relacionadas a inquilinos
  - name: Contracts
    description: Operações relacionadas a contratos
  - name: Payments
    description: Operações relacionadas a pagamentos
  - name: Auth
    description: Operações de autenticação

paths:

  # =============================================
  # AUTENTICAÇÃO
  # =============================================
  /auth/login:
    post:
      tags:
        - Auth
      summary: Login do usuário
      description: Autentica um usuário (proprietário) e retorna token JWT
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/LoginRequest'
      responses:
        '200':
          description: Login realizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/LoginResponse'
        '401':
          $ref: '#/components/responses/UnauthorizedError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # =============================================
  # PROPRIETÁRIOS (OWNERS)
  # =============================================
  /owners:
    post:
      tags:
        - Owners
      summary: Criar novo proprietário
      description: Cria um novo registro de proprietário no sistema
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OwnerCreate'
      responses:
        '201':
          description: Proprietário criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Owner'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Owners
      summary: Listar todos os proprietários
      description: Retorna uma lista de todos os proprietários cadastrados
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
      responses:
        '200':
          description: Lista de proprietários retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Owner'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /owners/{id}:
    get:
      tags:
        - Owners
      summary: Buscar proprietário por ID
      description: Retorna os detalhes de um proprietário específico
      parameters:
        - $ref: '#/components/parameters/OwnerId'
      responses:
        '200':
          description: Proprietário encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Owner'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Owners
      summary: Atualizar proprietário
      description: Atualiza os dados de um proprietário existente
      parameters:
        - $ref: '#/components/parameters/OwnerId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OwnerUpdate'
      responses:
        '200':
          description: Proprietário atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Owner'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Owners
      summary: Deletar proprietário
      description: Remove um proprietário do sistema
      parameters:
        - $ref: '#/components/parameters/OwnerId'
      responses:
        '204':
          description: Proprietário deletado com sucesso
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /owners/email/{email}:
    get:
      tags:
        - Owners
      summary: Buscar proprietário por email
      description: Retorna um proprietário baseado no email
      parameters:
        - name: email
          in: path
          required: true
          schema:
            type: string
            format: email
          description: Email do proprietário
      responses:
        '200':
          description: Proprietário encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Owner'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # =============================================
  # PROPRIEDADES (PROPERTIES)
  # =============================================
  /properties:
    post:
      tags:
        - Properties
      summary: Criar nova propriedade
      description: Cria um novo registro de propriedade para um proprietário
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PropertyCreate'
      responses:
        '201':
          description: Propriedade criada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Property'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          description: Proprietário não encontrado
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Properties
      summary: Listar todas as propriedades
      description: Retorna uma lista de todas as propriedades cadastradas
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - name: status
          in: query
          schema:
            $ref: '#/components/schemas/PropertyStatus'
          description: Filtrar por status da propriedade
      responses:
        '200':
          description: Lista de propriedades retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Property'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /properties/{id}:
    get:
      tags:
        - Properties
      summary: Buscar propriedade por ID
      description: Retorna os detalhes de uma propriedade específica
      parameters:
        - $ref: '#/components/parameters/PropertyId'
      responses:
        '200':
          description: Propriedade encontrada
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Property'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Properties
      summary: Atualizar propriedade
      description: Atualiza os dados de uma propriedade existente
      parameters:
        - $ref: '#/components/parameters/PropertyId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PropertyUpdate'
      responses:
        '200':
          description: Propriedade atualizada com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Property'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Properties
      summary: Deletar propriedade
      description: Remove uma propriedade do sistema (apenas se não houver contratos ativos)
      parameters:
        - $ref: '#/components/parameters/PropertyId'
      responses:
        '204':
          description: Propriedade deletada com sucesso
        '400':
          description: Não é possível deletar propriedade com contratos ativos
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /properties/owner/{ownerId}:
    get:
      tags:
        - Properties
      summary: Listar propriedades por proprietário
      description: Retorna todas as propriedades de um proprietário específico
      parameters:
        - $ref: '#/components/parameters/OwnerIdPath'
      responses:
        '200':
          description: Lista de propriedades do proprietário
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Property'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # =============================================
  # INQUILINOS (TENANTS)
  # =============================================
  /tenants:
    post:
      tags:
        - Tenants
      summary: Criar novo inquilino
      description: Cria um novo registro de inquilino para um proprietário
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantCreate'
      responses:
        '201':
          description: Inquilino criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '409':
          $ref: '#/components/responses/ConflictError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Tenants
      summary: Listar todos os inquilinos
      description: Retorna uma lista de todos os inquilinos cadastrados
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
      responses:
        '200':
          description: Lista de inquilinos retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Tenant'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /tenants/{id}:
    get:
      tags:
        - Tenants
      summary: Buscar inquilino por ID
      description: Retorna os detalhes de um inquilino específico
      parameters:
        - $ref: '#/components/parameters/TenantId'
      responses:
        '200':
          description: Inquilino encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Tenants
      summary: Atualizar inquilino
      description: Atualiza os dados de um inquilino existente
      parameters:
        - $ref: '#/components/parameters/TenantId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/TenantUpdate'
      responses:
        '200':
          description: Inquilino atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Tenant'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Tenants
      summary: Deletar inquilino
      description: Remove um inquilino do sistema (apenas se não houver contratos ativos)
      parameters:
        - $ref: '#/components/parameters/TenantId'
      responses:
        '204':
          description: Inquilino deletado com sucesso
        '400':
          description: Não é possível deletar inquilino com contratos ativos
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /tenants/owner/{ownerId}:
    get:
      tags:
        - Tenants
      summary: Listar inquilinos por proprietário
      description: Retorna todos os inquilinos de um proprietário específico
      parameters:
        - $ref: '#/components/parameters/OwnerIdPath'
      responses:
        '200':
          description: Lista de inquilinos do proprietário
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Tenant'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  # =============================================
  # CONTRATOS (CONTRACTS)
  # =============================================
  /contracts:
    post:
      tags:
        - Contracts
      summary: Criar novo contrato
      description: Cria um novo contrato entre propriedade e inquilino
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContractCreate'
      responses:
        '201':
          description: Contrato criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contract'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          description: Propriedade ou inquilino não encontrado
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Contracts
      summary: Listar todos os contratos
      description: Retorna uma lista de todos os contratos cadastrados
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
        - name: status
          in: query
          schema:
            $ref: '#/components/schemas/ContractStatus'
          description: Filtrar por status do contrato
      responses:
        '200':
          description: Lista de contratos retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Contract'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /contracts/{id}:
    get:
      tags:
        - Contracts
      summary: Buscar contrato por ID
      description: Retorna os detalhes de um contrato específico
      parameters:
        - $ref: '#/components/parameters/ContractId'
      responses:
        '200':
          description: Contrato encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contract'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Contracts
      summary: Atualizar contrato
      description: Atualiza os dados de um contrato existente
      parameters:
        - $ref: '#/components/parameters/ContractId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ContractUpdate'
      responses:
        '200':
          description: Contrato atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contract'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Contracts
      summary: Deletar contrato
      description: Remove um contrato do sistema
      parameters:
        - $ref: '#/components/parameters/ContractId'
      responses:
        '204':
          description: Contrato deletado com sucesso
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /contracts/property/{propertyId}:
    get:
      tags:
        - Contracts
      summary: Listar contratos por propriedade
      description: Retorna todos os contratos de uma propriedade específica
      parameters:
        - $ref: '#/components/parameters/PropertyIdPath'
      responses:
        '200':
          description: Lista de contratos da propriedade
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Contract'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /contracts/tenant/{tenantId}:
    get:
      tags:
        - Contracts
      summary: Listar contratos por inquilino
      description: Retorna todos os contratos de um inquilino específico
      parameters:
        - $ref: '#/components/parameters/TenantIdPath'
      responses:
        '200':
          description: Lista de contratos do inquilino
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Contract'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /contracts/property/{propertyId}/active:
    get:
      tags:
        - Contracts
      summary: Buscar contrato ativo por propriedade
      description: Retorna o contrato ativo de uma propriedade específica
      parameters:
        - $ref: '#/components/parameters/PropertyIdPath'
      responses:
        '200':
          description: Contrato ativo encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Contract'
        '404':
          description: Nenhum contrato ativo encontrado para esta propriedade
        '500':
          $ref: '#/components/responses/InternalServerError'

  # =============================================
  # PAGAMENTOS (PAYMENTS)
  # =============================================
  /payments:
    post:
      tags:
        - Payments
      summary: Criar novo pagamento
      description: Cria um novo registro de pagamento para um contrato
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentCreate'
      responses:
        '201':
          description: Pagamento criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          description: Contrato não encontrado
        '500':
          $ref: '#/components/responses/InternalServerError'

    get:
      tags:
        - Payments
      summary: Listar todos os pagamentos
      description: Retorna uma lista de todos os pagamentos cadastrados
      parameters:
        - $ref: '#/components/parameters/Page'
        - $ref: '#/components/parameters/Limit'
      responses:
        '200':
          description: Lista de pagamentos retornada com sucesso
          content:
            application/json:
              schema:
                type: object
                properties:
                  data:
                    type: array
                    items:
                      $ref: '#/components/schemas/Payment'
                  pagination:
                    $ref: '#/components/schemas/Pagination'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /payments/{id}:
    get:
      tags:
        - Payments
      summary: Buscar pagamento por ID
      description: Retorna os detalhes de um pagamento específico
      parameters:
        - $ref: '#/components/parameters/PaymentId'
      responses:
        '200':
          description: Pagamento encontrado
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    put:
      tags:
        - Payments
      summary: Atualizar pagamento
      description: Atualiza os dados de um pagamento existente
      parameters:
        - $ref: '#/components/parameters/PaymentId'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/PaymentUpdate'
      responses:
        '200':
          description: Pagamento atualizado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Payment'
        '400':
          $ref: '#/components/responses/BadRequestError'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

    delete:
      tags:
        - Payments
      summary: Deletar pagamento
      description: Remove um pagamento do sistema
      parameters:
        - $ref: '#/components/parameters/PaymentId'
      responses:
        '204':
          description: Pagamento deletado com sucesso
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /payments/contract/{contractId}:
    get:
      tags:
        - Payments
      summary: Listar pagamentos por contrato
      description: Retorna todos os pagamentos de um contrato específico
      parameters:
        - $ref: '#/components/parameters/ContractIdPath'
      responses:
        '200':
          description: Lista de pagamentos do contrato
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Payment'
        '404':
          $ref: '#/components/responses/NotFoundError'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /payments/overdue:
    get:
      tags:
        - Payments
      summary: Listar pagamentos em atraso
      description: Retorna todos os pagamentos com status de atraso
      responses:
        '200':
          description: Lista de pagamentos em atraso
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Payment'
        '500':
          $ref: '#/components/responses/InternalServerError'

  /payments/period:
    get:
      tags:
        - Payments
      summary: Listar pagamentos por período
      description: Retorna pagamentos dentro de um período específico
      parameters:
        - name: startDate
          in: query
          required: true
          schema:
            type: string
            format: date
          description: Data inicial do período (YYYY-MM-DD)
        - name: endDate
          in: query
          required: true
          schema:
            type: string
            format: date
          description: Data final do período (YYYY-MM-DD)
      responses:
        '200':
          description: Lista de pagamentos no período
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Payment'
        '400':
          description: Parâmetros de data inválidos
        '500':
          $ref: '#/components/responses/InternalServerError'

components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT

  parameters:
    Page:
      name: page
      in: query
      schema:
        type: integer
        minimum: 1
        default: 1
      description: Número da página
    Limit:
      name: limit
      in: query
      schema:
        type: integer
        minimum: 1
        maximum: 100
        default: 20
      description: Número de itens por página
    OwnerId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do proprietário
    OwnerIdPath:
      name: ownerId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do proprietário
    PropertyId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID da propriedade
    PropertyIdPath:
      name: propertyId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID da propriedade
    TenantId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do inquilino
    TenantIdPath:
      name: tenantId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do inquilino
    ContractId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do contrato
    ContractIdPath:
      name: contractId
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do contrato
    PaymentId:
      name: id
      in: path
      required: true
      schema:
        type: string
        format: uuid
      description: ID do pagamento

  responses:
    BadRequestError:
      description: Requisição inválida
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    UnauthorizedError:
      description: Não autorizado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ForbiddenError:
      description: Acesso negado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    NotFoundError:
      description: Recurso não encontrado
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    ConflictError:
      description: 'Conflito (ex: registro duplicado)'
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'
    InternalServerError:
      description: Erro interno do servidor
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/Error'

  schemas:
    # =============================================
    # SCHEMAS COMUNS
    # =============================================
    Error:
      type: object
      properties:
        code:
          type: string
          enum: [NOT_FOUND, INVALID_INPUT, ALREADY_EXISTS, UNAUTHORIZED, FORBIDDEN, INTERNAL_ERROR, VALIDATION_ERROR, BUSINESS_RULE, DATABASE_ERROR]
          description: Código do erro
        message:
          type: string
          description: Mensagem de erro descritiva
        details:
          type: object
          description: Detalhes adicionais do erro
      required:
        - code
        - message

    Pagination:
      type: object
      properties:
        page:
          type: integer
          description: Página atual
        limit:
          type: integer
          description: Itens por página
        total:
          type: integer
          description: Total de itens
        pages:
          type: integer
          description: Total de páginas

    # =============================================
    # AUTENTICAÇÃO
    # =============================================
    LoginRequest:
      type: object
      properties:
        email:
          type: string
          format: email
          example: "proprietario@exemplo.com"
        password:
          type: string
          format: password
          example: "senha123"
      required:
        - email
        - password

    LoginResponse:
      type: object
      properties:
        token:
          type: string
          description: Token JWT para autenticação
        expires_at:
          type: string
          format: date-time
          description: Data de expiração do token
        owner:
          $ref: '#/components/schemas/Owner'

    # =============================================
    # PROPRIETÁRIOS
    # =============================================
    Owner:
      type: object
      properties:
        id:
          type: string
          format: uuid
          example: "123e4567-e89b-12d3-a456-426614174000"
        name:
          type: string
          example: "João Silva"
        email:
          type: string
          format: email
          example: "joao.silva@exemplo.com"
        phone:
          type: string
          example: "+5511999999999"
        cpf:
          type: string
          example: "123.456.789-00"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1980-01-15"
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        properties:
          type: array
          items:
            $ref: '#/components/schemas/Property'

    OwnerCreate:
      type: object
      properties:
        name:
          type: string
          example: "João Silva"
        email:
          type: string
          format: email
          example: "joao.silva@exemplo.com"
        phone:
          type: string
          example: "+5511999999999"
        password:
          type: string
          format: password
          example: "senha123"
        cpf:
          type: string
          example: "12345678900"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1980-01-15"
      required:
        - name
        - email
        - phone
        - password
        - cpf

    OwnerUpdate:
      type: object
      properties:
        name:
          type: string
          example: "João Silva Santos"
        email:
          type: string
          format: email
          example: "joao.silva@exemplo.com"
        phone:
          type: string
          example: "+5511999998888"
        cpf:
          type: string
          example: "12345678900"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1980-01-15"

    # =============================================
    # PROPRIEDADES
    # =============================================
    PropertyStatus:
      type: string
      enum: [available, rented, maintenance, inactive]
      example: "available"

    Property:
      type: object
      properties:
        id:
          type: string
          format: uuid
        title:
          type: string
          example: "Apartamento Centro - 2 Quartos"
        description:
          type: string
          example: "Apartamento bem localizado no centro da cidade"
        address:
          type: string
          example: "Rua das Flores, 123 - Centro"
        city:
          type: string
          example: "São Paulo"
        state:
          type: string
          example: "SP"
        zip_code:
          type: string
          example: "01234-567"
        rent_amount:
          type: number
          format: float
          example: 1500.00
        area:
          type: integer
          example: 70
        bedrooms:
          type: integer
          example: 2
        bathrooms:
          type: integer
          example: 2
        status:
          $ref: '#/components/schemas/PropertyStatus'
        owner_id:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        owner:
          $ref: '#/components/schemas/Owner'
        contracts:
          type: array
          items:
            $ref: '#/components/schemas/Contract'

    PropertyCreate:
      type: object
      properties:
        title:
          type: string
          example: "Apartamento Centro - 2 Quartos"
        description:
          type: string
          example: "Apartamento bem localizado no centro da cidade"
        address:
          type: string
          example: "Rua das Flores, 123 - Centro"
        city:
          type: string
          example: "São Paulo"
        state:
          type: string
          example: "SP"
        zip_code:
          type: string
          example: "01234567"
        rent_amount:
          type: number
          format: float
          example: 1500.00
        area:
          type: integer
          example: 70
        bedrooms:
          type: integer
          example: 2
        bathrooms:
          type: integer
          example: 2
        status:
          $ref: '#/components/schemas/PropertyStatus'
        owner_id:
          type: string
          format: uuid
      required:
        - title
        - address
        - city
        - state
        - rent_amount
        - owner_id

    PropertyUpdate:
      type: object
      properties:
        title:
          type: string
          example: "Apartamento Centro - 2 Quartos Reformado"
        description:
          type: string
          example: "Apartamento bem localizado no centro da cidade, recentemente reformado"
        address:
          type: string
          example: "Rua das Flores, 123 - Centro"
        city:
          type: string
          example: "São Paulo"
        state:
          type: string
          example: "SP"
        zip_code:
          type: string
          example: "01234567"
        rent_amount:
          type: number
          format: float
          example: 1600.00
        area:
          type: integer
          example: 70
        bedrooms:
          type: integer
          example: 2
        bathrooms:
          type: integer
          example: 2
        status:
          $ref: '#/components/schemas/PropertyStatus'

    # =============================================
    # INQUILINOS
    # =============================================
    Tenant:
      type: object
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
          example: "Maria Santos"
        email:
          type: string
          format: email
          example: "maria.santos@exemplo.com"
        phone:
          type: string
          example: "+5511988887777"
        cpf:
          type: string
          example: "98765432100"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1990-05-20"
        owner_id:
          type: string
          format: uuid
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        owner:
          $ref: '#/components/schemas/Owner'
        contracts:
          type: array
          items:
            $ref: '#/components/schemas/Contract'

    TenantCreate:
      type: object
      properties:
        name:
          type: string
          example: "Maria Santos"
        email:
          type: string
          format: email
          example: "maria.santos@exemplo.com"
        phone:
          type: string
          example: "+5511988887777"
        cpf:
          type: string
          example: "98765432100"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1990-05-20"
        owner_id:
          type: string
          format: uuid
      required:
        - name
        - email
        - phone
        - cpf
        - owner_id

    TenantUpdate:
      type: object
      properties:
        name:
          type: string
          example: "Maria Santos Oliveira"
        email:
          type: string
          format: email
          example: "maria.oliveira@exemplo.com"
        phone:
          type: string
          example: "+5511988886666"
        cpf:
          type: string
          example: "98765432100"
        birth_date:
          type: string
          format: date
          nullable: true
          example: "1990-05-20"

    # =============================================
    # CONTRATOS
    # =============================================
    ContractStatus:
      type: string
      enum: [active, expired, cancelled, pending]
      example: "active"

    Contract:
      type: object
      properties:
        id:
          type: string
          format: uuid
        property_id:
          type: string
          format: uuid
        tenant_id:
          type: string
          format: uuid
        start_date:
          type: string
          format: date
          example: "2024-01-01"
        end_date:
          type: string
          format: date
          example: "2024-12-31"
        monthly_rent:
          type: number
          format: float
          example: 1500.00
        payment_due_day:
          type: integer
          minimum: 1
          maximum: 28
          example: 5
        status:
          $ref: '#/components/schemas/ContractStatus'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        property:
          $ref: '#/components/schemas/Property'
        tenant:
          $ref: '#/components/schemas/Tenant'
        payments:
          type: array
          items:
            $ref: '#/components/schemas/Payment'

    ContractCreate:
      type: object
      properties:
        property_id:
          type: string
          format: uuid
        tenant_id:
          type: string
          format: uuid
        start_date:
          type: string
          format: date
          example: "2024-01-01"
        end_date:
          type: string
          format: date
          example: "2024-12-31"
        monthly_rent:
          type: number
          format: float
          example: 1500.00
        payment_due_day:
          type: integer
          minimum: 1
          maximum: 28
          example: 5
        status:
          $ref: '#/components/schemas/ContractStatus'
      required:
        - property_id
        - tenant_id
        - start_date
        - end_date
        - monthly_rent
        - payment_due_day

    ContractUpdate:
      type: object
      properties:
        start_date:
          type: string
          format: date
          example: "2024-01-01"
        end_date:
          type: string
          format: date
          example: "2024-12-31"
        monthly_rent:
          type: number
          format: float
          example: 1600.00
        payment_due_day:
          type: integer
          minimum: 1
          maximum: 28
          example: 10
        status:
          $ref: '#/components/schemas/ContractStatus'

    # =============================================
    # PAGAMENTOS
    # =============================================
    PaymentStatus:
      type: string
      enum: [pending, paid, overdue, cancelled]
      example: "pending"

    Payment:
      type: object
      properties:
        id:
          type: string
          format: uuid
        contract_id:
          type: string
          format: uuid
        amount:
          type: number
          format: float
          example: 1500.00
        due_date:
          type: string
          format: date
          example: "2024-01-05"
        paid_amount:
          type: number
          format: float
          nullable: true
          example: 1500.00
        paid_date:
          type: string
          format: date-time
          nullable: true
        status:
          $ref: '#/components/schemas/PaymentStatus'
        created_at:
          type: string
          format: date-time
        updated_at:
          type: string
          format: date-time
        contract:
          $ref: '#/components/schemas/Contract'

    PaymentCreate:
      type: object
      properties:
        contract_id:
          type: string
          format: uuid
        amount:
          type: number
          format: float
          example: 1500.00
        due_date:
          type: string
          format: date
          example: "2024-01-05"
        status:
          $ref: '#/components/schemas/PaymentStatus'
      required:
        - contract_id
        - amount
        - due_date

    PaymentUpdate:
      type: object
      properties:
        amount:
          type: number
          format: float
          example: 1500.00
        due_date:
          type: string
          format: date
          example: "2024-01-05"
        paid_amount:
          type: number
          format: float
          nullable: true
          example: 1500.00
        paid_date:
          type: string
          format: date-time
          nullable: true
        status:
          $ref: '#/components/schemas/PaymentStatus'